<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>داشبورد-حساب کاربری</title>

    <link rel="stylesheet" href="../css/colors.css">
    <link rel="stylesheet" href="../css/user-dashboard.css">
    <link rel="stylesheet" href="../css/user-sidebar.css">
    <link rel="stylesheet" href="../css/verification.css">
    <link rel="stylesheet" href="../fonts/fonts.css">
</head>
<body>
    <div class="body_container">
        <!-- سایدبار -->
        <aside id="sidebar" class="sidebar"></aside>

        <!-- محتوای اصلی -->
        <main class="main_content">
            <!-- هدر -->
            <header class="dashboard_header" id="dashboard_header"></header>

            <!-- verification -->
            <section class="verification" aria-labelledby="verification-title">
                <header class="verification__summary" role="presentation">
                    <div class="your_level card">
                        <div class="level_title">
                            <span class="label">سطح شما :</span>
                            <span class="value" data-current-level-label>...</span>
                        </div>
                        <div class="summary_status" data-current-level-status-wrapper>
                            <span class="status-icon" aria-hidden="true">
                                <img src="https://unpkg.com/heroicons@2.0.18/24/solid/check.svg" alt="check" data-status-icon>
                            </span>
                            <h3 class="status-text" data-current-level-status>در حال بارگذاری...</h3>
                        </div>
                        <div class="level_Property">
                            <span class="label">مزایا :</span>
                            <span class="value" data-current-level-benefits>دسترسی به امکانات عمومی</span>
                        </div>
                    </div>

                    <h2 class="verification__heading" id="verification-title">پیشرفت احراز هویت</h2>
                    <ul class="verification-progress" data-progress aria-describedby="verification-title">
                        <li class="progress-step" data-progress-step="1">
                            <span class="progress-step__badge" aria-hidden="true">۱</span>
                            <div class="progress-step__content">
                                <h3 class="progress-step__title">سطح ۱</h3>
                                <p class="progress-step__description">پس از ثبت‌نام، به عنوان کاربر پایه فعال می‌شوید و به امکانات عمومی دسترسی دارید.</p>
                            </div>
                        </li>
                        <li class="progress-step" data-progress-step="2">
                            <span class="progress-step__badge" aria-hidden="true">۲</span>
                            <div class="progress-step__content">
                                <h3 class="progress-step__title">سطح ۲</h3>
                                <p class="progress-step__description">با بارگذاری تصویر کارت ملی و سلفی، درخواست شما برای تایید تیم پشتیبانی ثبت می‌شود.</p>
                            </div>
                        </li>
                        <li class="progress-step" data-progress-step="3">
                            <span class="progress-step__badge" aria-hidden="true">۳</span>
                            <div class="progress-step__content">
                                <h3 class="progress-step__title">سطح ۳</h3>
                                <p class="progress-step__description">پس از تایید سطح ۲، ویدیو سلفی کوتاه ارسال کنید تا تایید نهایی و سقف‌های بالاتر فعال شوند.</p>
                            </div>
                        </li>
                    </ul>
                </header>

                <aside class="verification_info card" aria-live="polite">
                    <div class="verification_info__content">
                        <span class="info-icon" aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 01.668 0l.041.02m-.75-.02V9.75a.75.75 0 011.5 0v1.5m-2.25 3a.75.75 0 001.5 0v-.75a.75.75 0 00-1.5 0v.75z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </span>
                        <div class="verification_info__text">
                            <h3>فرآیند احراز هویت در سه مرحله</h3>
                            <p>تمام کاربران پس از ثبت‌نام در سطح ۱ قرار می‌گیرند و می‌توانند با ارسال مدارک، دسترسی‌های بیشتری دریافت کنند.</p>
                            <ul class="verification_info__list">
                                <li><strong>سطح ۱:</strong> فعال‌سازی خودکار با ایجاد حساب کاربری (is_verified = False).</li>
                                <li><strong>سطح ۲:</strong> ارسال کارت ملی و عکس سلفی؛ وضعیت در انتظار تایید ادمین قرار می‌گیرد.</li>
                                <li><strong>سطح ۳:</strong> پس از تایید سطح ۲، ویدیو سلفی ارسال کنید تا تایید نهایی انجام شود.</li>
                            </ul>
                            <p>در صورت نیاز به اصلاح، امکان ویرایش و ارسال مجدد مدارک برای شما فراهم است.</p>
                        </div>
                    </div>
                    <button type="button" class="nemuneh">مشاهده راهنما</button>
                </aside>

                <div class="user-verification-grid">
                    <article class="user-verification-card verification_level_2 card" data-level-card="2">
                        <header class="user-verification-card__header">
                            <div class="level">
                                <span class="level__badge">سطح ۲</span>
                                <p class="level__subtitle">احراز هویت پیشرفته</p>
                            </div>
                            <!-- pending - accepted - not_accepted -->
                            <span class="level_status not_accepted">تکمیل نشد</span>
                        </header>
                        <p class="user-verification-card__description">با ارسال تصویر کارت ملی و یک سلفی واضح، احراز هویت شما به سطح ۲ ارتقا یافته و پس از تایید، امکانات مالی فعال می‌شود.</p>
                        <ul class="Property" aria-label="مزایای سطح ۲">
                            <li>امکان برداشت وجه و انتقال جوایز به حساب بانکی</li>
                            <li>دسترسی به ایجاد یا شرکت در تورنمنت‌های مالی</li>
                            <li>برداشته شدن محدودیت‌های پایه برای تراکنش‌ها</li>
                        </ul>
                        <div class="user-verification-card__actions">
                            <button class="verificatin_btn" id="level-2-btn">تکمیل کردن اطلاعات</button>
                            <button class="secondary-link" type="button" data-open-guide="2">نکات ارسال مدارک</button>
                        </div>
                    </article>

                    <article class="user-verification-card verification_level_3 card" data-level-card="3">
                        <header class="user-verification-card__header">
                            <div class="level">
                                <span class="level__badge">سطح ۳</span>
                                <p class="level__subtitle">تایید امنیت پیشرفته</p>
                            </div>
                            <!-- pending - accepted - not_accepted -->
                            <span class="level_status not_accepted">تکمیل نشد</span>
                        </header>
                        <p class="user-verification-card__description">پس از تایید سطح ۲، یک ویدیوی کوتاه از خود ضبط و ارسال کنید تا هویت شما به صورت نهایی تایید شود.</p>
                        <ul class="Property" aria-label="مزایای سطح ۳">
                            <li>افزایش سقف تراکنش و برداشت‌های روزانه</li>
                            <li>دریافت پشتیبانی اختصاصی و سریع‌تر</li>
                            <li>اولویت در پردازش درخواست‌های مالی و ویژه</li>
                        </ul>
                        <div class="user-verification-card__actions">
                            <button class="verificatin_btn" id="level-3-btn">تکمیل کردن اطلاعات</button>
                            <button class="secondary-link" type="button" data-open-guide="3">مشاهده نمونه ویدیو</button>
                        </div>
                    </article>
                </div>
            </section>
        </main>
    </div>

    <div class="overlay hidden" data-modal-overlay></div>

    <div class="modal level_2_modal hidden" role="dialog" aria-modal="true" aria-labelledby="level-2-title">
        <button class="modal-close-btn" type="button" aria-label="بستن" data-close-modal>×</button>

        <form class="level_2_modal_form" method="post" novalidate>
            <h2 class="modal-title" id="level-2-title">احراز هویت سطح ۲</h2>
            <p class="modal-description">تصویر کارت ملی و سلفی خود را بارگذاری کنید تا درخواست شما برای بررسی تیم پشتیبانی ثبت شود. تا زمان تایید، وضعیت حساب در حالت «در انتظار تایید» می‌ماند.</p>
            <h3 class="steps">انتخاب عکس سلفی</h3>
            <label class="lable" for="selfy_picture_level2">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="var(--white-color)" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z" />
                </svg>
                <p>عکس سلفی خود را انتخاب کنید</p>
                <p>اندازه عکس حداکثر ۵ مگابایت باید باشد</p>
                <div class="file-info" id="selfy_info"></div>
            </label>
            <input type="file" name="selfy_picturse" id="selfy_picture_level2" accept="image/*">

            <h3 class="steps">انتخاب عکس کارت ملی</h3>
            <label class="lable" for="id_card">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="var(--white-color)" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z" />
                </svg>
                <p>عکس کارت ملی یا شناسنامه خود را انتخاب کنید</p>
                <p>اندازه عکس حداکثر ۵ مگابایت باید باشد</p>
                <div class="file-info" id="id_card_info"></div>
            </label>
            <input type="file" name="id_card" id="id_card" accept="image/*">

            <button type="submit" class="submit-btn">ارسال مدارک</button>
        </form>
    </div>

    <div class="modal level_3_modal hidden" role="dialog" aria-modal="true" aria-labelledby="level-3-title">
        <button class="modal-close-btn" type="button" aria-label="بستن" data-close-modal>×</button>

        <form class="level_3_modal_form" method="post" novalidate>
            <h2 class="modal-title" id="level-3-title">احراز هویت سطح ۳</h2>
            <p class="modal-description">بعد از تایید شدن سطح ۲، یک ویدیوی سلفی کوتاه ضبط و آپلود کنید تا تایید نهایی حساب و امکانات ویژه برای شما فعال شود.</p>
            <h3 class="steps">ویدیوی خود را انتخاب کنید</h3>
            <label class="lable" for="selfy_video_level3">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="var(--white-color)" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z" />
                </svg>
                <p>ویدیوی سلفی خود را انتخاب کنید</p>
                <p>اندازه ویدیو حداکثر ۱۰ مگابایت باید باشد</p>
                <div class="file-info" id="video_info"></div>
            </label>
            <input type="file" name="selfy_picturse" id="selfy_video_level3" accept="video/*">
            <button type="submit" class="submit-btn">ارسال مدارک</button>
        </form>
    </div>

    <div class="modal nemuneh_modal hidden" role="dialog" aria-modal="true" aria-labelledby="guide-modal-title">
        <button class="modal-close-btn" type="button" aria-label="بستن" data-close-modal>×</button>
        <h2 class="modal-title" id="guide-modal-title">راهنمای تکمیل مدارک</h2>
        <p class="guide-intro">پس از ثبت‌نام در سطح ۱ قرار می‌گیرید. برای فعال‌سازی امکانات مالی و ویژه، مراحل زیر را قدم‌به‌قدم انجام دهید.</p>

        <div class="guide-section level-2">
            <div class="section-header">
                <svg class="level-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z" />
                </svg>
                <h3>سطح ۲: ارسال عکس سلفی و کارت ملی</h3>
            </div>
            <p>برای تکمیل سطح ۲، یک عکس سلفی واضح و تصویر کارت ملی یا شناسنامه خود را بارگذاری کنید. مدارک باید خوانا باشند و حداکثر اندازه هر فایل ۵ مگابایت است. پس از ارسال، درخواست شما برای تایید ادمین در صف بررسی قرار می‌گیرد.</p>
            <div class="samples">
                <div class="sample-item">
                    <h4>نمونه عکس سلفی:</h4>
                    <img src="../img/banner5.jpg" alt="نمونه عکس سلفی">
                </div>
                <div class="sample-item">
                    <h4>نمونه عکس کارت ملی:</h4>
                    <img src="../img/banner5.jpg" alt="نمونه عکس کارت ملی">
                </div>
            </div>
        </div>

        <div class="guide-section level-3">
            <div class="section-header">
                <svg class="level-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z" />
                </svg>
                <h3>سطح ۳: ارسال ویدیو سلفی با متن تنظیم شده</h3>
            </div>
            <p>برای تکمیل سطح ۳، ابتدا مطمئن شوید سطح ۲ شما تایید شده است. سپس یک ویدیو سلفی ضبط کنید و متن زیر را به صورت واضح بخوانید: <strong>"من [نام شما] هستم و این ویدیو برای احراز هویت در سایت است."</strong> پس از ارسال، وضعیت حساب تا زمان تایید نهایی به حالت انتظار برمی‌گردد.</p>
            <div class="samples">
                <div class="sample-item">
                    <h4>نمونه ویدیو:</h4>
                    <video controls>
                        <source src="../img/video/ATOM    TOURNOMANTS - Figma 2025-07-26 15-29-26.mp4" type="video/mp4">
                        مرورگر شما از ویدیو پشتیبانی نمی‌کند.
                    </video>
                </div>
            </div>
        </div>
    </div>

<script src="../js/dashboard-header.js"></script>
<script src="../js/sidebar.js"></script>
    <script type="module" src="../js/user-dashboard.js"></script>
    <script type="module" src="../js/verification.js"></script>
</body>
</html>
